<div class="container">
  <div class="d-flex justify-content-lg-start">
    <button (click)="back()" class="btn btn-primary mb-5 px-4 py-2 fs-4">
      <i class="fa fa-arrow-left" aria-hidden="true"></i> Products
    </button>
  </div>
</div>

<div class="container mt-5 col-lg-4">
  <div *ngIf="product" class="card my-5">
    <img
      [src]="imagePreview"
      class="my-5 card-img-top img-fluid product-image"
      alt="Product Image"
      (click)="openImageModal(imagePreview)"
    />
    <div
      class="card-body d-flex flex-column justify-content-center align-items-start align-self-center py-5"
    >
    <h5 class="card-title"><i class="fas fa-tag"></i> {{product.title}}</h5>
    <p class="card-text"><i class="fas fa-clipboard-list"></i> {{product.description}}</p>
    <p class="card-text"><strong><i class="fas fa-dollar-sign"></i> Price:</strong> ${{product.price}}</p>
    <p class="card-text"><strong><i class="fas fa-box-open"></i> Quantity:</strong> {{product.quantity}}</p>
    <p class="card-text"><strong><i class="fas fa-tags"></i> Category:</strong> {{product.categoryID.name}}</p>
    </div>
  </div>
</div>

<!-- Bootstrap Modal -->
<div
  class="modal fade"
  id="imageModal"
  tabindex="-1"
  role="dialog"
  aria-labelledby="imageModalLabel"
  aria-hidden="true"
>
  <div
    class="modal-dialog modal-dialog-centered modal-fullscreen"
    role="document"
  >
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="imageModalLabel">Image Preview</h5>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
          (click)="closeImageModal()"
        ></button>
      </div>
      <div class="modal-body">
        <img
          [src]="imagePreview"
          alt="Image preview"
          class="img-fluid modal-image w-100 h-100"
        />
      </div>
      <div class="modal-footer">
        <div class="container-fluid">
          <div class="row align-items-center">
            <div class="col-md-6 text-start mb-2 mb-md-0">
              <button
                type="button"
                class="btn btn-sm btn-light me-2"
                (click)="zoomIn()"
              >
                <i class="fas fa-search-plus"></i> Zoom In
              </button>
              <button
                type="button"
                class="btn btn-sm btn-light"
                (click)="zoomOut()"
              >
                <i class="fas fa-search-minus"></i> Zoom Out
              </button>
            </div>
            <div class="col-md-6 text-md-end">
              <button
                type="button"
                class="btn btn-primary"
                (click)="downloadImage()"
              >
                Download
                <i class="fa fa-solid fa-download" aria-hidden="true"></i>
              </button>
              <button
                type="button"
                class="btn btn-secondary ms-2"
                data-bs-dismiss="modal"
                (click)="closeImageModal()"
              >
                Close <i class="fa fa-solid fa-close" aria-hidden="true"></i>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
